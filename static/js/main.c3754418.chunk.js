(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{37:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c.n(a),i=c(28),r=c.n(i),l=c(12),n=c(3),d=(c(37),c(9)),o=c(13),j=c(32),b=c(11),h=c(1),m=function(e){var t=e.onFileAdded,c=Object(j.a)({onDrop:function(e){t(e[0])},accept:"image/jpeg, image/png",multiple:!1}),a=c.getRootProps,s=c.getInputProps,i=c.isDragActive;return Object(h.jsx)("div",{className:"w-full",children:Object(h.jsxs)("div",Object(d.a)(Object(d.a)({},a()),{},{className:"p-6 border-2 border-dashed rounded-2xl w-full bg-blueGray-100 cursor-pointer",children:[Object(h.jsx)("input",Object(d.a)({},s())),Object(h.jsxs)("div",{className:"text-center space-y-6",children:[Object(h.jsx)(b.c,{className:"inline-block h-12 w-12 text-blueGray-300"}),Object(h.jsx)("p",{className:"text-blueGray-500",children:i?Object(h.jsx)("span",{children:"Drop the file here ..."}):Object(h.jsxs)("span",{children:["Drag & drop an image here,",Object(h.jsx)("br",{}),"or click to select a file"]})})]})]}))})},p=[c.p+"static/media/Acinetobacter.baumanii_0008.c8fd795c.jpg",c.p+"static/media/Bifidobacterium.spp_0005.291912a1.jpg",c.p+"static/media/Bifidobacterium.spp_0007.2163e5a1.jpg",c.p+"static/media/Candida.albicans_0011.e601fb8c.jpg",c.p+"static/media/Escherichia.coli_0020.42cbd8b6.jpg",c.p+"static/media/Fusobacterium_0010.c4fbaacf.jpg",c.p+"static/media/Lactobacillus.rhamnosus_0006.3d929abd.jpg",c.p+"static/media/Lactobacillus.rhamnosus_0019.ddb75d35.jpg",c.p+"static/media/Micrococcus.spp_0011.d38832e4.jpg",c.p+"static/media/Micrococcus.spp_0017.9ed6bed3.jpg",c.p+"static/media/Neisseria.gonorrhoeae_0010.52a9216c.jpg",c.p+"static/media/Proteus_0007.d2c6b018.jpg",c.p+"static/media/Proteus_0010.2cbd3547.jpg",c.p+"static/media/Staphylococcus.saprophiticus_0007.58a18e19.jpg",c.p+"static/media/Staphylococcus.saprophiticus_0009.374bdcdf.jpg"],u=function(e){var t=e.src,c=e.name,a=e.onClick,s=e.title;return Object(h.jsxs)("div",{className:"p-2 bg-white rounded-md shadow-sm border-2 border-transparent cursor-pointer hover:shadow-xl hover:border-blueGray-600",onClick:function(){a(t,c)},title:s||c,children:[Object(h.jsx)("img",{className:"object-cover w-36",src:t,alt:c}),Object(h.jsx)("p",{className:"text-sm mt-1 truncate",children:c})]})},x=function(e){var t=e.data,c=e.onFileSelected;return Object(h.jsxs)("div",{children:[t&&t.length>0&&Object(h.jsxs)("div",{className:"mt-6",children:[Object(h.jsx)("h6",{className:"text-blueGray-500",children:"Your uploads"}),Object(h.jsx)("div",{className:"mt-4 grid grid-cols-4 gap-4",children:t.map((function(e,t){return Object(h.jsx)(u,{src:URL.createObjectURL(e),name:e.name,onClick:function(e,t){return c(e,t)}},t)}))})]}),Object(h.jsxs)("div",{className:"mt-6",children:[Object(h.jsx)("h6",{className:"text-blueGray-500",children:"Pre-loaded"}),Object(h.jsx)("div",{className:"mt-4 grid grid-cols-4 gap-4",children:p.map((function(e,t){return Object(h.jsx)(u,{src:e,name:"Image_".concat(t+1,".jpg"),title:e.split("/").pop(),onClick:function(e,t){return c(e,t)}},"preloaded-".concat(t))}))})]})]})},O=c.p+"static/media/lab.6f1bc5ff.png",g=function(){return Object(h.jsxs)("div",{className:"flex flex-col items-center mt-24",children:[Object(h.jsx)("div",{children:Object(h.jsx)("img",{src:O,alt:"",className:"block w-24"})}),Object(h.jsx)("div",{className:"mt-12",children:Object(h.jsx)("h3",{className:"text-blueGray-600",children:"Select image to analyze"})}),Object(h.jsx)("div",{className:"mt-4",children:Object(h.jsxs)("p",{className:"text-center text-blueGray-400",children:["Upload your files or choose from the",Object(h.jsx)("br",{}),"pre-loaded images"]})})]})},f=function(e){var t=e.data,c=e.isLoading,a=void 0!==c&&c;return Object(h.jsx)("div",{children:t?Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("div",{className:"flex-1",children:Object(h.jsx)("img",{src:t.fileData,alt:"image to predict",className:"rounded-lg"})}),Object(h.jsxs)("div",{className:"flex-1 pl-6",children:[Object(h.jsxs)("div",{className:"font-bold text-blueGray-700 flex items-center h-10",children:[Object(h.jsxs)("div",{children:["finished"===t.predictionStatus&&Object(h.jsx)(b.b,{className:"w-8 h-8 text-emerald-500"}),"pending"===t.predictionStatus&&Object(h.jsx)("div",{children:Object(h.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-6 w-6 text-blue-200",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[Object(h.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),Object(h.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})]}),Object(h.jsx)("div",{className:"pl-2",children:t.name})]}),a?Object(h.jsx)("div",{className:"text-blueGray-600 mt-6",children:"Crunching the numbers..."}):Object(h.jsxs)("div",{className:"text-blueGray-600 mt-6",children:[Object(h.jsxs)("p",{children:["Prediction: ",t.prediction?t.prediction.replace("."," "):"-"]}),Object(h.jsxs)("p",{children:["Confidence: ",t.score?Math.round(t.score)+"%":"-"]}),Object(h.jsxs)("p",{children:["Result received: ",t.predictionDateTime]}),Object(h.jsxs)("p",{children:["File Size: ",t.fileSize?Math.round(t.fileSize/1e3):0," KB"]})]})]})]}):Object(h.jsx)(g,{})})},v=c(30),N=c.n(v),y=function(e){var t=e.data;return Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:"flex flex-col",children:Object(h.jsx)("div",{className:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8 pb-12",children:Object(h.jsx)("div",{className:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8",children:Object(h.jsx)("div",{className:"shadow-xl overflow-hidden border-b border-gray-200 sm:rounded-lg",children:Object(h.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[Object(h.jsx)("thead",{className:"bg-gray-50",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Image"}),Object(h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prediction"})]})}),Object(h.jsx)("tbody",{className:"bg-white divide-y divide-gray-100",children:t.map((function(e,t){return Object(h.jsxs)("tr",{className:"hover:bg-lightBlue-50",children:[Object(h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:Object(h.jsxs)("div",{className:"flex items-center",children:[Object(h.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:Object(h.jsx)("img",{className:"h-10 w-10 rounded-full",src:e.fileData,alt:""})}),Object(h.jsxs)("div",{className:"ml-4",children:[Object(h.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),Object(h.jsx)("div",{className:"text-xs text-gray-400",children:e.predictionDateTime})]})]})}),Object(h.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[Object(h.jsx)("div",{className:"text-sm text-gray-900 capitalize",children:e.prediction?e.prediction.replace("."," "):"-"}),Object(h.jsxs)("div",{className:"text-xs text-gray-400",children:["Confidence: ",e.score?Math.round(e.score)+"%":"-"]})]})]},t)}))})]})})})})})})},w=function(e){e.data;var t=Object(a.useState)([]),c=Object(o.a)(t,2),s=c[0],i=c[1],r=Object(a.useState)(null),l=Object(o.a)(r,2),n=l[0],j=l[1],p=Object(a.useState)(!1),u=Object(o.a)(p,2),O=u[0],g=u[1],v=Object(a.useState)([]),w=Object(o.a)(v,2),k=w[0],S=w[1],L=function(e){if(n){var t=Object(d.a)(Object(d.a)({},n),{},{prediction:e.prediction,score:e.score,predictionDateTime:(new Date).toLocaleString(),predictionStatus:"finished",fileSize:e.fileSize});j(t),function(e){var t=[e].concat(k);S(t)}(t)}},G=function(e){if(n){var t=Object(d.a)(Object(d.a)({},n),{},{predictionStatus:e});j(t)}};return Object(a.useEffect)((function(){var e;null!==n&&"finished"!==n.predictionStatus&&(e=n,g(!0),fetch(e.fileData).then((function(e){return e.blob()})).then((function(t){var c=new File([t],e.name?e.name:"image.jpg"),a=new FormData;a.append("file",c),N.a.put("https://timohus-qi2zd.ondigitalocean.app/upload/"+e.name,a,{}).then((function(e){200===e.status?L(e.data):(console.log("Possibly server error, or network issue",e.status,e),g(!1),G("error"))})).catch((function(e){console.error("Error sending file",e),G("error")})).finally((function(){g(!1)}))})).catch((function(e){console.error("Error loading the image"),g(!1),G("error")})))}),[n]),Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("div",{className:"w-1/2",children:Object(h.jsxs)("div",{className:"p-6",children:[Object(h.jsx)("h1",{className:"text-blueGray-700 text-center",children:"Bacterial culture classifier"}),Object(h.jsx)("div",{className:"mt-12",children:Object(h.jsx)(f,{data:n,isLoading:O})}),k.length>0&&Object(h.jsx)("div",{className:"mt-12",children:Object(h.jsx)(y,{data:k})})]})}),Object(h.jsx)("aside",{className:"w-1/2 h-screen sticky overflow-y-auto top-0 bg-blueGray-50",children:Object(h.jsxs)("div",{className:"p-6 pt-1 relative",children:[Object(h.jsx)("div",{className:"sticky top-0 bg-blueGray-50 -ml-6 pl-6 pt-4 pb-4 sticky:bg-black",children:Object(h.jsx)("h4",{className:"text-blueGray-500",children:Object(h.jsxs)("span",{className:"align-middle",children:[Object(h.jsx)(b.a,{className:"inline-block w-8 h-8 text-lightBlue-300"})," Images"]})})}),Object(h.jsx)("div",{className:"mt-2",children:Object(h.jsx)(m,{onFileAdded:function(e){!function(e){i([e].concat(s));var t={fileData:URL.createObjectURL(e),name:e.name,predictionStatus:"pending",prediction:"",score:void 0,predictionDateTime:void 0,fileSize:void 0};j(t)}(e)}})}),Object(h.jsx)("div",{children:Object(h.jsx)(x,{data:s,onFileSelected:function(e,t){j({fileData:e,name:t,predictionStatus:"pending"})}})}),O&&Object(h.jsx)("div",{className:"w-full bg-white bg-opacity-20 cursor-not-allowed absolute top-0 left-0 bottom-0 right-0"})]})})]})},k=c.p+"static/media/v5.70bcacfd.png",S=["Acinetobacter.baumanii","Actinomyces.israeli","Bacteroides.fragilis","Bifidobacterium.spp","Candida.albicans","Clostridium.perfringens","Enterococcus.faecalis","Enterococcus.faecium","Escherichia.coli","Fusobacterium","Lactobacillus.casei","Lactobacillus.crispatus","Lactobacillus.delbrueckii","Lactobacillus.gasseri","Lactobacillus.jehnsenii","Lactobacillus.johnsonii","Lactobacillus.paracasei","Lactobacillus.plantarum","Lactobacillus.reuteri","Lactobacillus.rhamnosus","Lactobacillus.salivarius","Listeria.monocytogenes","Micrococcus.spp","Neisseria.gonorrhoeae","Porfyromonas.gingivalis","Propionibacterium.acnes","Proteus","Pseudomonas.aeruginosa","Staphylococcus.aureus","Staphylococcus.epidermidis","Staphylococcus.saprophiticus","Streptococcus.agalactiae","Veionella"],L=function(e){return null===e.data?Object(h.jsx)("p",{children:"No data."}):Object(h.jsxs)("div",{className:"p-6 pb-12",children:[Object(h.jsx)("h1",{className:"text-blueGray-700",children:"About"}),Object(h.jsxs)("div",{className:"flex mt-6 text-blueGray-700",children:[Object(h.jsxs)("div",{className:"w-1/2 space-y-2",children:[Object(h.jsxs)("p",{children:["This application is an image classifier. The input is a photo of a bacterial culture taken from the Petri dish. The idea comes from the paper ",Object(h.jsx)("a",{target:"_blank",href:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5599001/",children:"Deep learning approach to bacterial colony classification"}),"."]}),Object(h.jsxs)("p",{children:["The authors made their code available ",Object(h.jsx)("a",{target:"_blank",href:"https://github.com/bartoszzielinski/deep-fbanks",children:"here"}),", though this application does not use it. The model was trained on the original dataset (can be found ",Object(h.jsx)("a",{target:"_blank",href:"http://misztal.edu.pl/software/databases/dibas/",children:"here"}),") using TensorFlow and its accuracy is approximately 82%."]}),Object(h.jsx)("p",{children:"The classification is performed within the following list:"}),Object(h.jsx)("div",{className:"pt-6 pb-6 text-blueGray-500",children:Object(h.jsx)("ul",{className:"list-inside",style:{columns:2},children:S.map((function(e,t){return Object(h.jsxs)("li",{children:["- ",e]},t)}))})}),Object(h.jsx)("p",{children:"TensorFlow is used in the backend to make the predictions."}),Object(h.jsxs)("p",{children:["Interesting material on the topic: ",Object(h.jsx)("br",{}),"- ",Object(h.jsx)("a",{target:"_blank",href:"https://ddd.uab.cat/pub/tesis/2018/hdl_10803_666842/emf1de1.pdf",children:"Image Analysis of Bacterial Colonies in Classic and Alternative Gel-Based Growth Media"}),".",Object(h.jsx)("br",{}),"- ",Object(h.jsx)("a",{target:"_blank",href:"http://www.microbia.org/index.php/resources",children:"MicrobIA Project"}),". Using masking in the model training. Links to the large datasets and code."]})]}),Object(h.jsx)("div",{className:"w-1/2 pl-6",children:Object(h.jsx)("img",{src:k,className:"block w-96",alt:""})})]})]})},G=c.p+"static/media/petri-dish-4.05990dae.png",_=c(18),C=function(){return Object(h.jsxs)("div",{className:"h-screen bg-blueGray-800 text-white p-4",children:[Object(h.jsx)("div",{children:Object(h.jsx)(l.b,{to:"/",children:Object(h.jsx)("img",{src:G,alt:"",className:"block w-12"})})}),Object(h.jsxs)("div",{className:"flex flex-col items-center mt-12 space-y-6",children:[Object(h.jsx)("div",{children:Object(h.jsx)(l.b,{to:"/",className:"block w-8 h-8 rounded-lg p-1 bg-gradient-to-r from-blue-600 to-indigo-700 shadow-lg border border-blueGray-800 hover:border-white",children:Object(h.jsx)(_.a,{className:"w-f h-f text-lightBlue-200"})})}),Object(h.jsx)("div",{children:Object(h.jsx)(l.b,{to:"/about",className:"block w-8 h-8 rounded-lg p-1 bg-gradient-to-r from-orange-600 to-pink-800 shadow-lg border border-blueGray-800 hover:border-white",children:Object(h.jsx)(_.b,{className:"w-f h-f text-red-200"})})})]})]})},D=function(){return Object(h.jsx)("div",{children:Object(h.jsx)(l.a,{children:Object(h.jsxs)("div",{className:"flex",children:[Object(h.jsx)("aside",{className:"h-screen sticky top-0",children:Object(h.jsx)(C,{})}),Object(h.jsx)("main",{className:"flex-1",children:Object(h.jsxs)(n.c,{children:[Object(h.jsx)(n.a,{path:"/about",children:Object(h.jsx)(L,{data:{}})}),Object(h.jsx)(n.a,{path:"/",children:Object(h.jsx)(w,{data:{}})})]})})]})})})},P=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,63)).then((function(t){var c=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,r=t.getTTFB;c(e),a(e),s(e),i(e),r(e)}))};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(D,{})}),document.getElementById("root")),P()}},[[62,1,2]]]);
//# sourceMappingURL=main.c3754418.chunk.js.map